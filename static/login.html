<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="responsive.css">
	<script src="https://kit.fontawesome.com/a38d22bf1c.js" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="oneMoreStyle.css">
	<link rel="stylesheet" href="login.css">
</head>

<body>
	<nav>

		<div class="container main-nav flex">
			<a href="/" class="company-logo">
				<img src="images/ggits.jpeg">
			</a>
			<div class="nav-links " id="nav-links">
				<ul class="flex">
					<li><a href="/" class="hover-links">Home</a></li>
					<li><a href="#" class="hover-links">Resources</a></li>
					<li><a href="#" class="hover-links">Projects</a></li>
					<li><a href="#" class="hover-links">Contact</a></li>
					<li><a href="/login" class="hover-links secondary-btn">Sign In</a></li>
					<li><a href="/signup" class="hover-links primary-btn">Sign Up</a></li>
				</ul>
			</div>
			<a href="#" id="nav-toggle" class="nav-toggle hover-links"><i class="fa-solid fa-bars"></i></a>
		</div>
	</nav>


	<div class="form-login">
		<section>
			<div>
				<label for="email">Email/Username</label>
				<input type="email" id="entr1" required>
				<label for="password">Password</label>
				<input type="password" name="password" id="pass1" required>
				<button id="loginbtn">Login</button>
            </div>
		</section>
	</div>

</body>

<script>
    let entr1 = document.getElementById("entr1")
    let pass1 = document.getElementById("pass1")
    let loginbtn = document.getElementById("loginbtn")
    loginbtn.addEventListener('click', async() => {
        if(entr1.value != "" && pass1.value != ""){
            let loginresp = await fetch('/loginreq', {
                'method': 'POST',
                'headers': {
                    'Content-Type': 'application/json'
                },
                'body': JSON.stringify({
                    'entry': entr1.value,
                    'password': pass1.value
                })
            })
            let json1 = await loginresp.json()
			window.location.href = window.location.origin + '/posts'
        }
        else{
            window.alert("Careful!\nYou Can't Leave the Fields Empty")
        }
    })
</script>

</html>